# yaml-language-server: $schema=../../website/static/next-schema.json
version: "3"

tasks:
  js:
    vars:
      A: "a"

    env:
      B: "b"
      C: "c"

    interp: "javascript"

    cmds:
      - cmd: print(1 + 2);

      - cmd: |
          var hello = 'world';
          print(hello);

      - cmd: |
          var A = '{{.A}}';
          print(A);

      - cmd: |
          print(process.env.B + process.env.C);
        interp: "js"

  civet:
    interp: "civet"
    cmds:
      - cmd: "1 + 2 |> print"

      - cmd: "[1,2,3] |> .map & * 2 |> print"

  var-js:
    interp: "javascript"
    vars:
      SUM:
        sh: print(1 + 2)

    cmds:
      - cmd: echo {{.SUM}}
        interp: sh

  var-civet:
    vars:
      SUM:
        sh: "[1,2,3].reduce (+) |> print"
        interp: "civet"

    cmd: echo {{.SUM}}
