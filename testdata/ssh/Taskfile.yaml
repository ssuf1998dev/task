# yaml-language-server: $schema=../../website/static/next-schema.json
version: "3"

tasks:
  whoami:
    ssh: //root:foobar@{{.HOST}}?insecure
    cmd: whoami
    requires:
      vars: [HOST]

  whoami-cmd:
    cmd:
      cmd: whoami
      ssh: //root:foobar@{{.HOST}}?insecure
    requires:
      vars: [HOST]

  ls:
    ssh:
      addr: "{{.HOST}}"
      user: root
      password: foobar
      insecure: true
    cmd: ls -a
    requires:
      vars: [HOST]

  env:
    env:
      FOO: BAR
    ssh: //root:foobar@{{.HOST}}?insecure
    cmd: echo $FOO
    requires:
      vars: [HOST]
