# yaml-language-server: $schema=../../website/static/next-schema.json
version: "3"

tasks:
  js:
    vars:
      A: "a"

    env:
      B: "b"
      C: "c"

    cmds:
      - cmd: print(1 + 2);
        interpreter: "javascript"

      - cmd: |
          var hello = 'world';
          print(hello);
        interpreter: "javascript"

      - cmd: |
          var A = '{{.A}}';
          print(A);
        interpreter: "javascript"

      - cmd: |
          print(process.env.B + process.env.C);
        interpreter: "js"

  civet:
    cmds:
      - cmd: "1 + 2 |> print"
        interpreter: "civet"

      - cmd: "[1,2,3] |> .map & * 2 |> print"
        interpreter: "civet"

  var-js:
    vars:
      SUM:
        sh: print(1 + 2)
        interpreter: "javascript"

    cmd: echo {{.SUM}}

  var-civet:
    vars:
      SUM:
        sh: "[1,2,3].reduce (+) |> print"
        interpreter: "civet"

    cmd: echo {{.SUM}}
